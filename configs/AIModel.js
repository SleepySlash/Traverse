const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = "AIzaSyCAxx5SuTFpG2zUgI6vk0rHGjuw7ssY3_A";
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  // safetySettings: Adjust safety settings
  // See https://ai.google.dev/gemini-api/docs/safety-settings
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Please generate a detailed and realistic travel tour for the following specifications (make sure the costs are estimated in the destination's currency): location Goa, India, duration 7 days and 6 nights, for Friends travelers, and a budget of Cheap. The itinerary should include the best travel routes based on the mode of transportation (flight, train, bus, or ship), with ticket prices and booking URLs provided. Additionally, include a list of recommended hotels or lodging options with their names, prices, and booking URLs. For places to visit nearby, provide a comprehensive list that includes the name of each place, a detailed description, an image URL, geo coordinates, ticket pricing, estimated travel time from the accommodation, and the best time to visit. Ensure all this information is presented in a structured JSON format.\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "tour_name": "Goa on a Budget: 7 Days of Fun and Sun",\n  "destination": "Goa, India",\n  "duration": "7 days, 6 nights",\n  "travel_style": "Friends",\n  "budget": "Cheap",\n  "itinerary": [\n    {\n      "day": 1,\n      "description": "Arrival in Goa & North Goa Exploration",\n      "activities": [\n        {\n          "name": "Arrival at Goa International Airport (GOI)",\n          "description": "Upon arrival at Goa International Airport, take a pre-booked airport transfer to your hotel in North Goa. Consider taking a taxi or an Uber, which will cost around INR 500-700 (approx. $6-9 USD) for a 1-hour journey.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Goa_International_Airport.jpg/1280px-Goa_International_Airport.jpg",\n          "coordinates": "15.4367° N, 73.8546° E",\n          "cost": "INR 500-700",\n          "travel_time": "1 hour"\n        },\n        {\n          "name": "Check-in at The LaLiT Golf & Spa Resort Goa",\n          "description": "This luxurious resort is located in North Goa and offers comfortable accommodations at a reasonable price. It provides access to a swimming pool, fitness center, and spa, along with a delicious breakfast buffet. You can find rooms starting from INR 4,000 (approx. $50 USD) per night.",\n          "image_url": "https://www.lalit.com/uploads/hotels/goa-golf-spa-resort/la-lit-goa-hotel-gallery-images/01_LaLiT_Goa_Resort_Exterior.jpg",\n          "coordinates": "15.4986° N, 73.8153° E",\n          "cost": "INR 4,000 per night",\n          "booking_url": "https://www.lalit.com/hotels/goa-golf-spa-resort",\n          "travel_time": "0 minutes"\n        },\n        {\n          "name": "Baga Beach",\n          "description": "Explore the vibrant Baga Beach, known for its water sports, nightlife, and delicious seafood shacks. Spend the afternoon swimming, sunbathing, or trying out jet skiing or parasailing.",\n          "image_url": "https://www.holidify.com/images/cmsuploads/2022/05/11/baga-beach-goa-10-things-you-must-do.jpg",\n          "coordinates": "15.5064° N, 73.8455° E",\n          "cost": "Free",\n          "travel_time": "15 minutes from the hotel"\n        },\n        {\n          "name": "Titos Lane",\n          "description": "As the sun sets, head to Titos Lane in Baga, a famous street lined with bars and clubs. Enjoy a vibrant nightlife with live music, DJs, and a lively crowd.",\n          "image_url": "https://media-cdn.tripadvisor.com/media/photo-s/16/84/56/82/titos-lane-baga-goa.jpg",\n          "coordinates": "15.5067° N, 73.8458° E",\n          "cost": "Depends on your consumption",\n          "travel_time": "5 minutes from Baga Beach"\n        }\n      ]\n    },\n    {\n      "day": 2,\n      "description": "Calangute Beach & Water Sports",\n      "activities": [\n        {\n          "name": "Calangute Beach",\n          "description": "Spend the morning at Calangute Beach, one of Goa\'s most popular beaches, known for its golden sands, clear waters, and a lively atmosphere. You can enjoy sunbathing, swimming, or trying out water sports like parasailing or jet skiing.",\n          "image_url": "https://www.holidify.com/images/cmsuploads/2022/05/11/calangute-beach-goa-10-things-you-must-do.jpg",\n          "coordinates": "15.5261° N, 73.8345° E",\n          "cost": "Free",\n          "travel_time": "15 minutes from the hotel"\n        },\n        {\n          "name": "Water Sports at Calangute Beach",\n          "description": "Indulge in thrilling water sports like parasailing, jet skiing, banana boat rides, and more. Prices vary depending on the activity and duration. Expect to pay around INR 500-1000 (approx. $6-12 USD) for a 15-minute ride.",\n          "image_url": "https://www.holidify.com/images/cmsuploads/2022/05/11/calangute-beach-goa-10-things-you-must-do.jpg",\n          "coordinates": "15.5261° N, 73.8345° E",\n          "cost": "INR 500-1000",\n          "travel_time": "0 minutes"\n        },\n        {\n          "name": "Dinner at a Beachside Shack",\n          "description": "In the evening, enjoy a delicious seafood dinner at a beachside shack in Calangute. Try traditional Goan dishes like fish curry, prawns, and crab. Prices for a meal for two can range from INR 500-1000 (approx. $6-12 USD).",\n          "image_url": "https://www.holidify.com/images/cmsuploads/2022/05/11/calangute-beach-goa-10-things-you-must-do.jpg",\n          "coordinates": "15.5261° N, 73.8345° E",\n          "cost": "INR 500-1000",\n          "travel_time": "0 minutes"\n        }\n      ]\n    },\n    {\n      "day": 3,\n      "description": "Exploring Panaji & Old Goa",\n      "activities": [\n        {\n          "name": "Panaji (Panjim) City Tour",\n          "description": "Take a day trip to Panaji, the capital city of Goa. Explore the city\'s colonial architecture, visit the bustling markets, and take a stroll along the Mandovi River.",\n          "image_url": "https://www.holidify.com/images/cmsuploads/2022/05/11/panjim-goa-10-things-you-must-do.jpg",\n          "coordinates": "15.4964° N, 73.8286° E",\n          "cost": "Free",\n          "travel_time": "1 hour from the hotel"\n        },\n        {\n          "name": "Church of St. Cajetan",\n          "description": "Visit the Church of St. Cajetan, a beautiful 17th-century church with a stunning facade and intricate interiors. The church is known for its Baroque architecture and is a must-visit for history and architecture enthusiasts.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Church_of_St._Cajetan%2C_Old_Goa.jpg/1280px-Church_of_St._Cajetan%2C_Old_Goa.jpg",\n          "coordinates": "15.4987° N, 73.8296° E",\n          "cost": "Free",\n          "travel_time": "15 minutes from Panaji"\n        },\n        {\n          "name": "Se Cathedral",\n          "description": "Visit the Se Cathedral, one of the largest churches in Asia. The church is known for its impressive architecture and historical significance. It houses the tomb of St. Francis Xavier, a revered Catholic saint.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Se_Cathedral%2C_Old_Goa.jpg/1280px-Se_Cathedral%2C_Old_Goa.jpg",\n          "coordinates": "15.5013° N, 73.8289° E",\n          "cost": "Free",\n          "travel_time": "10 minutes from the Church of St. Cajetan"\n        },\n        {\n          "name": "Basilica of Bom Jesus",\n          "description": "Visit the Basilica of Bom Jesus, a UNESCO World Heritage Site. The basilica houses the tomb of St. Francis Xavier, and is a popular pilgrimage site for Catholics.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Basilica_of_Bom_Jesus.jpg/1280px-Basilica_of_Bom_Jesus.jpg",\n          "coordinates": "15.4943° N, 73.8245° E",\n          "cost": "Free",\n          "travel_time": "10 minutes from the Se Cathedral"\n        }\n      ]\n    },\n    {\n      "day": 4,\n      "description": "Relaxation and Beach Vibes",\n      "activities": [\n        {\n          "name": "Relaxation at the Hotel",\n          "description": "Spend the day relaxing by the pool or at the beach. You can also indulge in a spa treatment at the hotel or simply enjoy the peaceful atmosphere.",\n          "image_url": "https://www.lalit.com/uploads/hotels/goa-golf-spa-resort/la-lit-goa-hotel-gallery-images/01_LaLiT_Goa_Resort_Exterior.jpg",\n          "coordinates": "15.4986° N, 73.8153° E",\n          "cost": "Free",\n          "travel_time": "0 minutes"\n        },\n        {\n          "name": "Sunset Cruise on the Mandovi River",\n          "description": "Enjoy a romantic sunset cruise on the Mandovi River. Many cruises offer live music, drinks, and snacks for a memorable evening. You can find cruises starting from INR 500 (approx. $6 USD) per person.",\n          "image_url": "https://www.holidify.com/images/cmsuploads/2022/05/11/mandovi-river-cruise-goa-10-things-you-must-do.jpg",\n          "coordinates": "15.4964° N, 73.8286° E",\n          "cost": "INR 500 per person",\n          "travel_time": "1 hour from the hotel"\n        }\n      ]\n    },\n    {\n      "day": 5,\n      "description": "South Goa Exploration & Nature",\n      "activities": [\n        {\n          "name": "Palolem Beach",\n          "description": "Travel to Palolem Beach in South Goa, known for its scenic beauty, tranquil atmosphere, and beautiful sunsets. Spend the day relaxing on the beach, swimming in the crystal-clear waters, or enjoying a delicious meal at one of the beachside restaurants.",\n          "image_url": "https://www.holidify.com/images/cmsuploads/2022/05/11/palolem-beach-goa-10-things-you-must-do.jpg",\n          "coordinates": "15.1283° N, 73.9755° E",\n          "cost": "Free",\n          "travel_time": "2 hours from North Goa"\n        },\n        {\n          "name": "Butterfly Conservatory",\n          "description": "Visit the Butterfly Conservatory in Ponda, a peaceful haven for butterfly enthusiasts. You can witness a wide variety of butterflies in their natural habitat.",\n          "image_url": "https://www.holidify.com/images/cmsuploads/2022/05/11/butterfly-conservatory-goa-10-things-you-must-do.jpg",\n          "coordinates": "15.4466° N, 73.9650° E",\n          "cost": "INR 100 per person",\n          "travel_time": "1 hour from Palolem Beach"\n        },\n        {\n          "name": "Dudhsagar Falls",\n          "description": "Take a day trip to Dudhsagar Falls, a stunning waterfall located on the Goa-Karnataka border. You can reach the falls by train or by jeep. Enjoy the scenic beauty of the falls and take a refreshing dip in the cool waters.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Dudhsagar_Falls_Goa.jpg/1280px-Dudhsagar_Falls_Goa.jpg",\n          "coordinates": "15.2621° N, 74.1169° E",\n          "cost": "INR 500-1000 per person for a jeep ride",\n          "travel_time": "2 hours from the Butterfly Conservatory"\n        }\n      ]\n    },\n    {\n      "day": 6,\n      "description": "Shopping in Mapusa & Local Experiences",\n      "activities": [\n        {\n          "name": "Mapusa Market",\n          "description": "Visit the bustling Mapusa Market, known for its wide variety of goods, including local handicrafts, spices, clothing, and fresh produce. This is a great place to find unique souvenirs and experience the local culture.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Mapusa_Market.jpg/1280px-Mapusa_Market.jpg",\n          "coordinates": "15.5649° N, 73.8562° E",\n          "cost": "Free",\n          "travel_time": "1.5 hours from the hotel"\n        },\n        {\n          "name": "Spice Plantation Tour",\n          "description": "Experience a spice plantation tour in Goa. You can learn about the cultivation of different spices, enjoy a traditional Goan lunch, and even buy some spices to take home. Tours cost around INR 500-1000 (approx. $6-12 USD) per person.",\n          "image_url": "https://www.holidify.com/images/cmsuploads/2022/05/11/spice-plantations-goa-10-things-you-must-do.jpg",\n          "coordinates": "15.4826° N, 73.8873° E",\n          "cost": "INR 500-1000 per person",\n          "travel_time": "1 hour from Mapusa Market"\n        }\n      ]\n    },\n    {\n      "day": 7,\n      "description": "Departure from Goa",\n      "activities": [\n        {\n          "name": "Check-out from Hotel",\n          "description": "Check out of your hotel and make your way to the airport for your departure flight. Consider a taxi or an Uber, which will cost around INR 500-700 (approx. $6-9 USD) for a 1-hour journey to the airport.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Goa_International_Airport.jpg/1280px-Goa_International_Airport.jpg",\n          "coordinates": "15.4367° N, 73.8546° E",\n          "cost": "INR 500-700",\n          "travel_time": "1 hour"\n        }\n      ]\n    }\n  ],\n  "recommended_lodging": [\n    {\n      "name": "The LaLiT Golf & Spa Resort Goa",\n      "description": "A luxurious resort with comfortable accommodations, a swimming pool, fitness center, and spa. Offers delicious breakfast buffets.",\n      "image_url": "https://www.lalit.com/uploads/hotels/goa-golf-spa-resort/la-lit-goa-hotel-gallery-images/01_LaLiT_Goa_Resort_Exterior.jpg",\n      "coordinates": "15.4986° N, 73.8153° E",\n      "price": "INR 4,000 per night",\n      "booking_url": "https://www.lalit.com/hotels/goa-golf-spa-resort"\n    },\n    {\n      "name": "The Sun Village",\n      "description": "A budget-friendly hotel with clean and comfortable rooms, located near Baga Beach. Offers basic amenities and a friendly atmosphere.",\n      "image_url": "https://media-cdn.tripadvisor.com/media/photo-s/09/76/c9/6a/the-sun-village-goa.jpg",\n      "coordinates": "15.5079° N, 73.8458° E",\n      "price": "INR 2,000 per night",\n      "booking_url": "https://www.booking.com/hotel/in/the-sun-village.en-gb.html"\n    },\n    {\n      "name": "The Candolim Residency",\n      "description": "A charming guesthouse offering cozy rooms with balconies and a quiet location near Calangute Beach. Provides a comfortable and affordable option.",\n      "image_url": "https://media-cdn.tripadvisor.com/media/photo-s/11/56/24/5a/candolim-residency.jpg",\n      "coordinates": "15.5188° N, 73.8329° E",\n      "price": "INR 1,500 per night",\n      "booking_url": "https://www.tripadvisor.com/Hotel_Review-g297602-d1333755-Reviews-The_Candolim_Residency-Candolim_Goa.html"\n    }\n  ],\n  "nearby_places": [\n    {\n      "name": "Fort Aguada",\n      "description": "A 17th-century fort situated on a hill overlooking the Arabian Sea. It offers stunning panoramic views of the coastline and is a popular spot for sunset photography.",\n      "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Fort_Aguada_Goa_%282%29.jpg/1280px-Fort_Aguada_Goa_%282%29.jpg",\n      "coordinates": "15.5265° N, 73.8494° E",\n      "cost": "INR 20 per person",\n      "travel_time": "30 minutes from the hotel",\n      "best_time_to_visit": "All year round, but evenings are best for sunsets"\n    },\n    {\n      "name": "Divar Island",\n      "description": "A small island located in the Mandovi River, offering a peaceful escape from the hustle and bustle of Goa. Explore the island\'s villages, enjoy a ferry ride, and visit the traditional temples.",\n      "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Divar_Island_Goa_%281%29.jpg/1280px-Divar_Island_Goa_%281%29.jpg",\n      "coordinates": "15.4812° N, 73.8305° E",\n      "cost": "INR 10 per person for the ferry",\n      "travel_time": "45 minutes from the hotel",\n      "best_time_to_visit": "All year round"\n    },\n    {\n      "name": "Sinquerim Beach",\n      "description": "A quiet and secluded beach known for its scenic beauty and tranquil atmosphere. Perfect for relaxation, sunbathing, and enjoying a peaceful beachside walk.",\n      "image_url": "https://www.holidify.com/images/cmsuploads/2022/05/11/sinquerim-beach-goa-10-things-you-must-do.jpg",\n      "coordinates": "15.5089° N, 73.8291° E",\n      "cost": "Free",\n      "travel_time": "20 minutes from the hotel",\n      "best_time_to_visit": "All year round"\n    },\n    {\n      "name": "Grande Island",\n      "description": "An island known for its excellent snorkeling and scuba diving spots. Explore the underwater world, witness vibrant coral reefs, and spot various marine life.",\n      "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Grande_Island_Goa.jpg/1280px-Grande_Island_Goa.jpg",\n      "coordinates": "15.4785° N, 73.8571° E",\n      "cost": "INR 1500-2000 per person for a scuba diving trip",\n      "travel_time": "1 hour by boat from the hotel",\n      "best_time_to_visit": "October to May"\n    },\n    {\n      "name": "Dona Paula Jetty",\n      "description": "A scenic spot offering stunning views of the Mandovi River and the coastline. It\'s a popular spot for evening walks and enjoying the sunset.",\n      "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Dona_Paula_Jetty.jpg/1280px-Dona_Paula_Jetty.jpg",\n      "coordinates": "15.4663° N, 73.8461° E",\n      "cost": "Free",\n      "travel_time": "45 minutes from the hotel",\n      "best_time_to_visit": "Evenings for sunsets"\n    }\n  ]\n}\n```\n\n**Please note:**\n\n* This itinerary is a suggestion and can be customized based on your preferences and interests.\n* Prices for transportation, activities, and accommodation are approximate and may vary depending on availability and season.\n* It\'s always recommended to book flights, hotels, and activities in advance, especially during peak season.\n* Check for any entry requirements or travel restrictions before traveling to India. \n* Ensure you have adequate travel insurance coverage.\n',
        },
      ],
    },
  ],
});

// const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
// console.log(result.response.text());
